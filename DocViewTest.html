<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="hacker.css">

    <title>CyberAlex</title>
    <link href="hacker.css" rel="stylesheet">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.14.305/pdf.min.js"></script>
    <style>
        .disabled {
            color: green; /* Change color to indicate it's disabled */
            pointer-events: none; /* Prevent any click events */
            text-decoration: none; /* Remove underline */
            cursor: default; /* Change cursor to default */
        }
        .audio-controls {
            display: none; /* Initially hide audio controls */
            margin-top: 10px; /* Add some space above the audio controls */
        }
        .dropdown-toggle {
            cursor: pointer; /* Change cursor to pointer for dropdown */
        }
        audio {
            width: 100%; /* Set audio player width to fill the container */
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-default navbar-static-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="index.html">CyberAlex</a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="#About">About</a></li>
                    <li><a href="#Ongoing-Projects">Ongoing Projects</a></li>
                    <li><a href="#Past-Projects">Past Projects</a></li>
                    <li><a href="#Contact">Contact</a></li>
                </ul>
            </div>
        </div>
    </nav>

   <div class="container">
       <div class="row">
            <div class="col-md-4">
                <ul class="breadcrumb">
                      <li><a href="index.html">Home</a></li>
                    <li><a href="documents.html">Documents</a></li>
                      <li class="DocViewTest.html">TestDoc</li>
                </ul>
            </div>
       </div>

         <!--Boxes-->
         <div class="row">
            <div class="col-lg-12">
                <hr id="PDF">
                <h1>Document Title</h1>
            </div>
        </div>
        <div class="row">
            <div class="col-md-8">
                <div class="panel panel-primary">
                    <div class="panel-heading"><h3 class="panel-title">Abstract</h3></div>
                    <div class="panel-body">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras vestibulum neque libero, vitae feugiat neque ullamcorper eget. 
                                                Morbi pellentesque, orci sollicitudin congue lacinia, massa risus mollis nisl, eget maximus quam elit eu ante.</div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="panel panel-primary">
                    <div class="panel-heading"><h3 class="panel-title">Options</h3></div>
                    <div class="panel-body" id="formats-container"><br>
                        > <a download="testdoc.pdf" href="testdoc.pdf" target="_blank">Download Document</a><br>
                    <!--Comment out as appropriate-->
                    <!--  <a class="dropdown-toggle" id="audio-toggle">> Audio Version</a><br> enabled version -->
                    <!-- --><span class="dissabled">> <s>Audio Version</s></span><br> <!--dissabled version-->
                        <div class="audio-controls" id="audio-controls">
                            <audio controls>
                                <source src="testfile.mp3" type="audio/mpeg"><!--Change path here-->
                                Your browser does not support the audio element.
                            </audio>
                        </div>
                        <!-- > <a download="testfile.mp3" href="testfile.mp3" >Download Audio Version</a><br> Change path here-->
                        <!-- --><span class="dissabled">> <s>Download Audio Version</s></span><br> <!--dissabled version-->
                    </div>
                </div>
            </div>
            
            <script>
                // Function to check if the device is mobile
                function isMobile() {
                    return /Mobi|Android/i.test(navigator.userAgent);
                }
            
                // Check if the device is mobile and set the content accordingly
                if (!isMobile()) {
                    const formatsContainer = document.getElementById('formats-container');
                    const pdfViewerLink = document.createElement('a');
                    pdfViewerLink.href = 'testdoc.pdf';
                    pdfViewerLink.target = '_blank'; // Open in a new tab
                    pdfViewerLink.textContent = 'Open in New Tab';
                    formatsContainer.prepend(pdfViewerLink);
                    formatsContainer.insertAdjacentHTML('afterbegin', '> ');
                }

                // Dropdown functionality for audio version
                const audioToggle = document.getElementById('audio-toggle');
                const audioControls = document.getElementById('audio-controls');

                audioToggle.addEventListener('click', function() {
                    const isExpanded = audioControls.style.display === 'block';
                    audioControls.style.display = isExpanded ? 'none' : 'block';
                    audioToggle.innerHTML = isExpanded ? '> Audio Version' : '▼ Audio Version'; // Change to down arrow when expanded
                });
            </script>
        </div>

        <div class="col-lg-12" id="pdf-viewer" style="width: 100%; display: flex; justify-content: center; flex-wrap: wrap;"></div>
    </div>
    
    <br><br><br>

   <!--Footer-->
   <footer class="footer" style="background-color: black; padding: 20px 0;">
    <div class="container">
        <p style="text-align: center">Page last updated: 27 Jan 2024</p>
        <p style="text-align: center">Email me securely using <a href="https://tuta.com/">Tuta.com</a>!</p>
        <br>
        <p style="text-align: center"> 
            <a href="privacypolicy.html">Privacy Policy</a> | 
            <a href="termsandconditions.html" >Terms and Conditions</a> | 
            <a href="copyright.html">Copyright Notice</a> | 
            <a href="licences.html">Licenses</a> | 
            <a href="contact.html">Contact</a>
        </p>
        <br>
            <p style="text-align: center">
                <a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ">♥</a> 
                <a href="https://github.com/brobin/hacker-bootstrap" target="_blank">Hacker Theme </a>
                by Tobin Brown, licensed under the <a href="https://opensource.org/license/MIT">MIT Licence</a>.
                 <a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ">♥</a>
                 <br>
                © 2025 www.cyberalex.uk - All rights reserved.
            </p>
        <p style="text-align: center; color:black" >Safe | Legal | Ethical</p>
    </div>
</footer>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        const url = 'testdoc.pdf'; // Path to PDF file

        const pdfjsLib = window['pdfjs-dist/build/pdf'];
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.14.305/pdf.worker.min.js';

        const container = document.getElementById('pdf-viewer');

        // Function to check if the device is mobile
        function isMobile() {
            return /Mobi|Android/i.test(navigator.userAgent);
        }

        // Load PDF only if not on mobile
        if (!isMobile()) {
            pdfjsLib.getDocument(url).promise.then((pdf) => {
                const scale = 1.85; // Adjust this scale to fit the page width
                for (let i = 1; i <= pdf.numPages; i++) {
                    pdf.getPage(i).then((page) => {
                        const viewport = page.getViewport({ scale });

                        // Create a wrapper for each page
                        const pageWrapper = document.createElement('div');
                        pageWrapper.style.margin = '10px 0'; // Space between pages
                        pageWrapper.style.borderBottom = '1px solid #ccc'; // Optional visual page break
                        pageWrapper.style.paddingBottom = '20px';

                        const canvas = document.createElement('canvas');
                        canvas.style.display = 'block';
                        const context = canvas.getContext('2d');

                        canvas.width = viewport.width;
                        canvas.height = viewport.height;

                        pageWrapper.appendChild(canvas);
                        container.appendChild(pageWrapper);

                        const renderContext = {
                            canvasContext: context,
                            viewport: viewport,
                        };

                        page.render(renderContext);
                    });
                }
            }).catch((error) => {
                container.innerHTML = <p>Error loading PDF: ${error.message}</p>;
            });
        } else {
            container.innerHTML = <p>Sorry, the integrated document viewer is only available for desktops.</p>;
        }
    </script>
</body>
</html>
